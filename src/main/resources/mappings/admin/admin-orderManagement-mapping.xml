<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="orderManagementDAO">

	<select id="orderList" resultType="orderManagementVO">
		select * from order_table
		where order_state='결제완료' or order_state='입금대기' or order_state='상품준비중'
		or order_state='배송준비중'
		order by order_state asc, invoice_no asc
	</select>

	<select id="getOrder" resultType="orderManagementVO">


		select * from order_product join order_table
		using(order_no) join product using(product_no) where order_no=#{order_no} order by
		order_state
		asc,invoice_no asc
	</select>

	<update id="selectOrder_start">
		update order_table set order_state=#{order_state}
		where order_no = #{order_no}
	</update>
	
	<update id="selectOrder">
		update order_table set order_state=#{order_state}, invoice_no=#{invoice_no}
		where order_no = #{order_no}
	</update>



</mapper>